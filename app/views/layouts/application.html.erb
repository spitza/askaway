<!DOCTYPE html>
<html lang="en">
  <head>
    <title><%= full_title(yield(:title)) %></title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<%= favicon_link_tag 'favicon.ico' %>
    <%= stylesheet_link_tag "application", media: "all",
                                           "data-turbolinks-track" => true %>
    <%= javascript_include_tag "application", "data-turbolinks-track" => true %>
    <%= csrf_meta_tags %>
    <%= render 'layouts/shim' %>
	<link href='//fonts.googleapis.com/css?family=Oleo+Script|Open+Sans:300,700' rel='stylesheet' type='text/css'>
	<style>
	/*
	When setting the primary font stack, apply it to the Pure grid units along
	with `html`, `button`, `input`, `select`, and `textarea`. Pure Grids use
	specific font stacks to ensure the greatest OS/browser compatibility.
	*/
	html, button, input, select, textarea,
	.pure-g [class *= "pure-u"],
	.pure-g-r [class *= "pure-u"] {
	    /* Set your content font stack here: */
	    font-family: Georgia, Serif;
	}
	</style>
  </head>
  <body>
	<div id="layout">
	    <!-- Menu toggle -->
	    <a href="#menu" id="menuLink" class="menu-link">
	        <!-- Hamburger icon -->
	        <span></span>
	    </a>

	    <div id="menu">
	        <div class="pure-menu pure-menu-open">
	            <a class="pure-menu-heading" href="#">AskAway</a>

	            <ul>
		            <li><%= link_to "Home", root_path %></li>
  		  			<% if current_user %>
  		  			  	<li><%= link_to "Host a Conversation", create_path %></li>
  		  			<% end %>
		  		  <li>
		  			<% if current_user %>
		  			  	<%= link_to "Sign Out", signout_path %>
		  			<% else %>
		  				<%= link_to "Sign In", "/auth/twitter?origin=#{request.original_url}" %>
		  			<% end %>
		  			</li>
	            </ul>
	        </div>
	    </div>

	    <div id="main">
      	  <%= yield %>
		</div>
    </div>
	<script>
		(function (window, document) {
		    var layout   = document.getElementById('layout'),
		        menu     = document.getElementById('menu'),
		        menuLink = document.getElementById('menuLink');

		    function toggleClass(element, className) {
		        var classes = element.className.split(/\s+/),
		            length = classes.length,
		            i = 0;

		        for(; i < length; i++) {
		          if (classes[i] === className) {
		            classes.splice(i, 1);
		            break;
		          }
		        }
		        // The className is not found
		        if (length === classes.length) {
		            classes.push(className);
		        }

		        element.className = classes.join(' ');
		    }

		    menuLink.onclick = function (e) {
		        var active = 'active';

		        e.preventDefault();
		        toggleClass(layout, active);
		        toggleClass(menu, active);
		        toggleClass(menuLink, active);
		    };
		}(this, this.document));
		function selectText(containerid) {
	        if (document.selection) {
	            var range = document.body.createTextRange();
	            range.moveToElementText(document.getElementById(containerid));
	            range.select();
	        } else if (window.getSelection) {
	            var range = document.createRange();
	            range.selectNode(document.getElementById(containerid));
	            window.getSelection().addRange(range);
	        }
	    }
	</script>
  </body>
</html>